{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.headers.common[\"x-api-key\"] = \"live_5FA0xN73jhAfs5YnYFOVtRKAAswWoWlfNu9XZk7AVKIXcsy0uqheAdd7iccnt3Yk\";\n\nexport function fetchBreeds() {\n    return axios.get(\"https://api.thecatapi.com/v1/breeds\").then(resp => {\n        return resp.data.map(item => ({\n            value: item.id,\n            text: item.name,\n        }));\n    });\n}\n\nexport function fetchCatByBreed(id) {\n    return axios.get(`https://api.thecatapi.com/v1/images/search?breed_ids=${id}`).then(resp => {\n        const data = resp.data[0];\n        return {\n            url: data.url,\n            id: data.breeds[0].id,\n            name: data.breeds[0].name,\n            temperament: data.breeds[0].temperament,\n            description: data.breeds[0].description,\n        };\n    });\n}\n\n\n\n","import SlimSelect from \"slim-select\";\nimport { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\n\nconst errorRef = document.getElementById(\"error\");\nconst loaderRef = document.getElementById(\"loader\");\nconst selectorRef = document.getElementById(\"breed-select\");\nconst infoRef = document.getElementById(\"cat-info\");\nconst catImage = infoRef.querySelector(\"img\");\nconst catName = infoRef.querySelector(\".details > .name\");\nconst catDesc = infoRef.querySelector(\".details > .description\");\nconst catTemp = infoRef.querySelector(\".details .temperament\");\n\nwindow.addEventListener(\"error\", showError);\ndisplayBreeds();\n\nfunction showError() {\n    errorRef.classList.remove(\"hidden\");\n    return true;\n};\n\nfunction hideError() {\n    errorRef.classList.add(\"hidden\");\n    return true;\n};\n\nfunction showLoader() {\n    loaderRef.classList.remove(\"hidden\");\n    return true;\n};\n\nfunction hideLoader() {\n    loaderRef.classList.add(\"hidden\");\n    return true;\n};\n\nfunction showInfo() {\n    infoRef.classList.remove(\"hidden\");\n    return true;\n};\n\nfunction hideInfo() {\n    infoRef.classList.add(\"hidden\");\n    return true;\n};\n\nfunction showBreedSelector() {\n    selectorRef.classList.remove(\"hidden\");\n    return true;\n};\n\nconst selectCtrl = new SlimSelect({\n    select: \"select.breed-select\",\n    settings: {\n        placeholderText: 'Please select a breed',\n    },\n    events: {\n        afterChange: (newVal) => {\n            hideError();\n            const value = newVal[0].value;\n            if (!value) {\n                return;\n            }\n            displayDetails(value);\n        }\n    }\n});\n\nasync function displayDetails(catId) {\n    hideInfo()\n    showLoader();\n    try {\n        const details = await fetchCatByBreed(catId);\n\n        catImage.src = details.url;\n        catImage.alt = details.name;\n        catName.textContent = details.name;\n        catDesc.textContent = details.description;\n        catTemp.textContent = details.temperament;\n        showInfo()\n    }\n    catch (e) {\n        showError();\n    }\n    finally {\n        hideLoader();\n    }\n}\n\nasync function displayBreeds() {\n    try {\n        const data = await fetchBreeds();\n        data.unshift({ value: \"\", text: \"Please chooose your cat\", placeholder: true });\n        selectCtrl.setData(data);\n        showBreedSelector();\n    }\n    catch (e) {\n        showError();\n    }\n    finally {\n        hideLoader();\n    }\n}\n\n\n"],"names":["axios","fetchBreeds","resp","item","fetchCatByBreed","id","data","errorRef","loaderRef","selectorRef","infoRef","catImage","catName","catDesc","catTemp","showError","displayBreeds","hideError","showLoader","hideLoader","showInfo","hideInfo","showBreedSelector","selectCtrl","SlimSelect","newVal","value","displayDetails","catId","details"],"mappings":"6vBAEAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EAAI,wEAEtC,SAASC,GAAc,CAC1B,OAAOD,EAAM,IAAI,qCAAqC,EAAE,KAAKE,GAClDA,EAAK,KAAK,IAAIC,IAAS,CAC1B,MAAOA,EAAK,GACZ,KAAMA,EAAK,IACd,EAAC,CACL,CACL,CAEO,SAASC,EAAgBC,EAAI,CAChC,OAAOL,EAAM,IAAI,wDAAwDK,CAAE,EAAE,EAAE,KAAKH,GAAQ,CACxF,MAAMI,EAAOJ,EAAK,KAAK,CAAC,EACxB,MAAO,CACH,IAAKI,EAAK,IACV,GAAIA,EAAK,OAAO,CAAC,EAAE,GACnB,KAAMA,EAAK,OAAO,CAAC,EAAE,KACrB,YAAaA,EAAK,OAAO,CAAC,EAAE,YAC5B,YAAaA,EAAK,OAAO,CAAC,EAAE,WACxC,CACA,CAAK,CACL,CCrBA,MAAMC,EAAW,SAAS,eAAe,OAAO,EAC1CC,EAAY,SAAS,eAAe,QAAQ,EAC5CC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAU,SAAS,eAAe,UAAU,EAC5CC,EAAWD,EAAQ,cAAc,KAAK,EACtCE,EAAUF,EAAQ,cAAc,kBAAkB,EAClDG,EAAUH,EAAQ,cAAc,yBAAyB,EACzDI,EAAUJ,EAAQ,cAAc,uBAAuB,EAE7D,OAAO,iBAAiB,QAASK,CAAS,EAC1CC,IAEA,SAASD,GAAY,CACjB,OAAAR,EAAS,UAAU,OAAO,QAAQ,EAC3B,EACX,CAEA,SAASU,GAAY,CACjB,OAAAV,EAAS,UAAU,IAAI,QAAQ,EACxB,EACX,CAEA,SAASW,GAAa,CAClB,OAAAV,EAAU,UAAU,OAAO,QAAQ,EAC5B,EACX,CAEA,SAASW,GAAa,CAClB,OAAAX,EAAU,UAAU,IAAI,QAAQ,EACzB,EACX,CAEA,SAASY,GAAW,CAChB,OAAAV,EAAQ,UAAU,OAAO,QAAQ,EAC1B,EACX,CAEA,SAASW,GAAW,CAChB,OAAAX,EAAQ,UAAU,IAAI,QAAQ,EACvB,EACX,CAEA,SAASY,GAAoB,CACzB,OAAAb,EAAY,UAAU,OAAO,QAAQ,EAC9B,EACX,CAEA,MAAMc,EAAa,IAAIC,EAAW,CAC9B,OAAQ,sBACR,SAAU,CACN,gBAAiB,uBACpB,EACD,OAAQ,CACJ,YAAcC,GAAW,CACrBR,IACA,MAAMS,EAAQD,EAAO,CAAC,EAAE,MACnBC,GAGLC,EAAeD,CAAK,CACvB,CACJ,CACL,CAAC,EAED,eAAeC,EAAeC,EAAO,CACjCP,EAAU,EACVH,IACA,GAAI,CACA,MAAMW,EAAU,MAAMzB,EAAgBwB,CAAK,EAE3CjB,EAAS,IAAMkB,EAAQ,IACvBlB,EAAS,IAAMkB,EAAQ,KACvBjB,EAAQ,YAAciB,EAAQ,KAC9BhB,EAAQ,YAAcgB,EAAQ,YAC9Bf,EAAQ,YAAce,EAAQ,YAC9BT,EAAU,CACb,MACS,CACNL,GACH,QACO,CACJI,GACH,CACL,CAEA,eAAeH,GAAgB,CAC3B,GAAI,CACA,MAAMV,EAAO,MAAML,IACnBK,EAAK,QAAQ,CAAE,MAAO,GAAI,KAAM,0BAA2B,YAAa,EAAI,CAAE,EAC9EiB,EAAW,QAAQjB,CAAI,EACvBgB,GACH,MACS,CACNP,GACH,QACO,CACJI,GACH,CACL"}